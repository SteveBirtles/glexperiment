#include <string>
#include <vector>

#include "tris.hpp"

std::string Tris::prototypes[88]{
    "012a", "123b", "230c", "301d", "104a", "045b", "451c", "510d", "215a",
    "156b", "562c", "621d", "326a", "267b", "673c", "732d", "037a", "374b",
    "740c", "403d", "547a", "476b", "765c", "654d", "016a", "167b", "670c",
    "701d", "061e", "176f", "607g", "710h", "127a", "274b", "741c", "412d",
    "172e", "247f", "714g", "421h", "234a", "345b", "452c", "523d", "243e",
    "354f", "425g", "532h", "305a", "056b", "563c", "630d", "350e", "065f",
    "536g", "603h", "026a", "264b", "640c", "402d", "062e", "246f", "604g",
    "420h", "137a", "375b", "751c", "513d", "173e", "357f", "715g", "531h",
    "027i", "072j", "057k", "075l", "134i", "143j", "146k", "164l", "205i",
    "250j", "257k", "275l", "316i", "361j", "346k", "364l",
};

glm::ivec4 Tris::adjacents[24]{
    {0, 1, 0, 23},  {0, 1, 0, 22},  {0, 1, 0, 21},  {0, 1, 0, 20},
    {0, 0, 1, 15},  {0, 0, 1, 14},  {0, 0, 1, 13},  {0, 0, 1, 12},
    {-1, 0, 0, 19}, {-1, 0, 0, 18}, {-1, 0, 0, 17}, {-1, 0, 0, 16},
    {0, 0, -1, 7},  {0, 0, -1, 6},  {0, 0, -1, 5},  {0, 0, -1, 4},
    {1, 0, 0, 11},  {1, 0, 0, 10},  {1, 0, 0, 9},   {1, 0, 0, 8},
    {0, -1, 0, 3},  {0, -1, 0, 2},  {0, -1, 0, 1},  {0, -1, 0, 0},
};

int Tris::textures[88]{
    0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5,
    5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
    6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
    6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
};

std::vector<uint8_t> Tris::shapes[256]{
    {},                                         /* 0 */
    {},                                         /* 1 */
    {},                                         /* 2 */
    {},                                         /* 3 */
    {},                                         /* 4 */
    {},                                         /* 5 */
    {},                                         /* 6 */
    {},                                         /* 7 */
    {},                                         /* 8 */
    {},                                         /* 9 */
    {},                                         /* 10 */
    {},                                         /* 11 */
    {},                                         /* 12 */
    {},                                         /* 13 */
    {},                                         /* 14 */
    {},                                         /* 15 */
    {},                                         /* 16 */
    {},                                         /* 17 */
    {},                                         /* 18 */
    {},                                         /* 19 */
    {},                                         /* 20 */
    {},                                         /* 21 */
    {},                                         /* 22 */
    {0, 4, 39, 59},                             /* 23 */
    {},                                         /* 24 */
    {},                                         /* 25 */
    {},                                         /* 26 */
    {3, 4, 19, 77},                             /* 27 */
    {},                                         /* 28 */
    {2, 19, 44, 63},                            /* 29 */
    {},                                         /* 30 */
    {0, 2, 4, 19, 39, 44},                      /* 31 */
    {},                                         /* 32 */
    {},                                         /* 33 */
    {},                                         /* 34 */
    {},                                         /* 35 */
    {},                                         /* 36 */
    {},                                         /* 37 */
    {},                                         /* 38 */
    {0, 7, 8, 81},                              /* 39 */
    {},                                         /* 40 */
    {},                                         /* 41 */
    {},                                         /* 42 */
    {3, 7, 52, 71},                             /* 43 */
    {},                                         /* 44 */
    {},                                         /* 45 */
    {1, 8, 47, 67},                             /* 46 */
    {0, 2, 7, 8, 47, 52},                       /* 47 */
    {},                                         /* 48 */
    {},                                         /* 49 */
    {},                                         /* 50 */
    {},                                         /* 51 */
    {},                                         /* 52 */
    {},                                         /* 53 */
    {6, 8, 35, 46},                             /* 54 */
    {0, 7, 5, 8, 46, 59},                       /* 55 */
    {},                                         /* 56 */
    {5, 19, 45, 48},                            /* 57 */
    {},                                         /* 58 */
    {3, 7, 5, 19, 45, 71},                      /* 59 */
    {},                                         /* 60 */
    {2, 5, 19, 44, 46, 80},                     /* 61 */
    {1, 6, 8, 44, 46, 76},                      /* 62 */
    {0, 2, 7, 5, 19, 8, 44, 46},                /* 63 */
    {},                                         /* 64 */
    {},                                         /* 65 */
    {},                                         /* 66 */
    {},                                         /* 67 */
    {},                                         /* 68 */
    {},                                         /* 69 */
    {},                                         /* 70 */
    {0, 11, 28, 56},                            /* 71 */
    {},                                         /* 72 */
    {},                                         /* 73 */
    {},                                         /* 74 */
    {},                                         /* 75 */
    {},                                         /* 76 */
    {2, 12, 55, 60},                            /* 77 */
    {1, 12, 11, 85},                            /* 78 */
    {0, 2, 12, 11, 28, 55},                     /* 79 */
    {},                                         /* 80 */
    {},                                         /* 81 */
    {},                                         /* 82 */
    {},                                         /* 83 */
    {},                                         /* 84 */
    {},                                         /* 85 */
    {},                                         /* 86 */
    {0, 4, 11, 56, 58, 78},                     /* 87 */
    {},                                         /* 88 */
    {},                                         /* 89 */
    {},                                         /* 90 */
    {3, 4, 19, 77},                             /* 91 (27) */
    {},                                         /* 92 */
    {2, 12, 19, 60, 62, 87},                    /* 93 */
    {1, 12, 11, 85},                            /* 94 (78) */
    {0, 2, 12, 4, 19, 11, 87, 78},              /* 95 */
    {},                                         /* 96 */
    {},                                         /* 97 */
    {},                                         /* 98 */
    {7, 9, 24, 53},                             /* 99 */
    {},                                         /* 100 */
    {},                                         /* 101 */
    {},                                         /* 102 */
    {0, 7, 11, 9, 53, 56},                      /* 103 */
    {},                                         /* 104 */
    {},                                         /* 105 */
    {},                                         /* 106 */
    {3, 7, 9, 52, 54, 84},                      /* 107 */
    {12, 10, 43, 54},                           /* 108 */
    {2, 12, 10, 52, 54, 80},                    /* 109 */
    {1, 12, 11, 9, 54, 67},                     /* 110 */
    {0, 2, 12, 7, 11, 9, 52, 54},               /* 111 */
    {},                                         /* 112 */
    {23, 5, 49, 58},                            /* 113 */
    {23, 6, 9, 79},                             /* 114 */
    {23, 7, 5, 9, 24, 58},                      /* 115 */
    {23, 10, 42, 57},                           /* 116 */
    {23, 5, 10, 56, 58, 80},                    /* 117 */
    {23, 6, 11, 9, 35, 57},                     /* 118 */
    {0, 23, 7, 5, 11, 9, 56, 58},               /* 119 */
    {},                                         /* 120 */
    {23, 5, 19, 48, 50, 87},                    /* 121 */
    {23, 6, 9, 79},                             /* 122 (114) */
    {3, 23, 7, 5, 19, 9, 84, 87},               /* 123 */
    {23, 12, 10, 40, 42, 87},                   /* 124 */
    {2, 23, 12, 5, 19, 10, 80, 87},             /* 125 */
    {1, 23, 12, 6, 11, 9, 76, 87},              /* 126 */
    {0, 2, 23, 12, 7, 5, 19, 11, 9, 87},        /* 127 */
    {},                                         /* 128 */
    {},                                         /* 129 */
    {},                                         /* 130 */
    {},                                         /* 131 */
    {},                                         /* 132 */
    {},                                         /* 133 */
    {},                                         /* 134 */
    {},                                         /* 135 */
    {},                                         /* 136 */
    {},                                         /* 137 */
    {},                                         /* 138 */
    {3, 16, 31, 68},                            /* 139 */
    {},                                         /* 140 */
    {2, 15, 16, 73},                            /* 141 */
    {1, 15, 36, 64},                            /* 142 */
    {0, 2, 15, 16, 31, 36},                     /* 143 */
    {},                                         /* 144 */
    {},                                         /* 145 */
    {},                                         /* 146 */
    {4, 18, 27, 38},                            /* 147 */
    {},                                         /* 148 */
    {},                                         /* 149 */
    {},                                         /* 150 */
    {0, 4, 18, 36, 38, 72},                     /* 151 */
    {},                                         /* 152 */
    {},                                         /* 153 */
    {},                                         /* 154 */
    {3, 4, 18, 16, 38, 68},                     /* 155 */
    {15, 17, 37, 40},                           /* 156 */
    {2, 15, 18, 16, 37, 63},                    /* 157 */
    {1, 15, 17, 36, 38, 76},                    /* 158 */
    {0, 2, 15, 4, 18, 16, 36, 38},              /* 159 */
    {},                                         /* 160 */
    {},                                         /* 161 */
    {},                                         /* 162 */
    {},                                         /* 163 */
    {},                                         /* 164 */
    {},                                         /* 165 */
    {},                                         /* 166 */
    {0, 7, 8, 81},                              /* 167 (39) */
    {},                                         /* 168 */
    {},                                         /* 169 */
    {},                                         /* 170 */
    {3, 7, 16, 68, 70, 75},                     /* 171 */
    {},                                         /* 172 */
    {2, 15, 16, 73},                            /* 173 (141) */
    {1, 15, 8, 64, 66, 82},                     /* 174 */
    {0, 2, 15, 7, 16, 8, 82, 75},               /* 175 */
    {},                                         /* 176 */
    {20, 5, 18, 74},                            /* 177 */
    {20, 6, 34, 70},                            /* 178 */
    {20, 7, 5, 18, 27, 70},                     /* 179 */
    {},                                         /* 180 */
    {20, 5, 18, 74},                            /* 181 (177) */
    {20, 6, 8, 32, 34, 82},                     /* 182 */
    {0, 20, 7, 5, 18, 8, 72, 82},               /* 183 */
    {20, 17, 41, 69},                           /* 184 */
    {20, 5, 18, 16, 48, 69},                    /* 185 */
    {20, 6, 17, 68, 70, 76},                    /* 186 */
    {3, 20, 7, 5, 18, 16, 68, 70},              /* 187 */
    {20, 15, 17, 40, 42, 82},                   /* 188 */
    {2, 20, 15, 5, 18, 16, 80, 82},             /* 189 */
    {1, 20, 15, 6, 17, 8, 76, 82},              /* 190 */
    {0, 2, 20, 15, 7, 5, 18, 16, 8, 82},        /* 191 */
    {},                                         /* 192 */
    {},                                         /* 193 */
    {},                                         /* 194 */
    {},                                         /* 195 */
    {},                                         /* 196 */
    {},                                         /* 197 */
    {13, 11, 29, 32},                           /* 198 */
    {0, 13, 11, 28, 30, 72},                    /* 199 */
    {},                                         /* 200 */
    {14, 16, 30, 51},                           /* 201 */
    {},                                         /* 202 */
    {3, 14, 16, 28, 30, 84},                    /* 203 */
    {},                                         /* 204 */
    {2, 14, 12, 16, 30, 60},                    /* 205 */
    {1, 14, 12, 11, 29, 64},                    /* 206 */
    {0, 2, 14, 12, 16, 11, 28, 30},             /* 207 */
    {},                                         /* 208 */
    {21, 18, 26, 62},                           /* 209 */
    {},                                         /* 210 */
    {21, 4, 18, 24, 26, 78},                    /* 211 */
    {21, 13, 33, 61},                           /* 212 */
    {21, 13, 18, 60, 62, 72},                   /* 213 */
    {21, 13, 11, 32, 34, 78},                   /* 214 */
    {0, 21, 13, 4, 18, 11, 72, 78},             /* 215 */
    {21, 14, 17, 86},                           /* 216 */
    {21, 14, 18, 16, 51, 62},                   /* 217 */
    {21, 14, 17, 86},                           /* 218 (216) */
    {3, 21, 14, 4, 18, 16, 84, 78},             /* 219 */
    {21, 14, 12, 17, 40, 61},                   /* 220 */
    {2, 21, 14, 12, 18, 16, 60, 62},            /* 221 */
    {1, 21, 14, 12, 17, 11, 76, 78},            /* 222 */
    {0, 2, 21, 14, 12, 4, 18, 16, 11, 78},      /* 223 */
    {},                                         /* 224 */
    {},                                         /* 225 */
    {22, 9, 25, 66},                            /* 226 */
    {22, 7, 9, 24, 26, 75},                     /* 227 */
    {22, 13, 10, 83},                           /* 228 */
    {22, 13, 10, 83},                           /* 229 (228) */
    {22, 13, 11, 9, 32, 66},                    /* 230 */
    {0, 22, 13, 7, 11, 9, 72, 75},              /* 231 */
    {22, 14, 50, 65},                           /* 232 */
    {22, 14, 16, 48, 50, 75},                   /* 233 */
    {22, 14, 9, 64, 66, 84},                    /* 234 */
    {3, 22, 14, 7, 16, 9, 84, 75},              /* 235 */
    {22, 14, 12, 10, 43, 65},                   /* 236 */
    {2, 22, 14, 12, 16, 10, 80, 75},            /* 237 */
    {1, 22, 14, 12, 11, 9, 64, 66},             /* 238 */
    {0, 2, 22, 14, 12, 7, 16, 11, 9, 75},       /* 239 */
    {},                                         /* 240 */
    {23, 21, 5, 18, 26, 49},                    /* 241 */
    {23, 21, 6, 9, 25, 34},                     /* 242 */
    {23, 21, 7, 5, 18, 9, 24, 26},              /* 243 */
    {23, 21, 13, 10, 33, 42},                   /* 244 */
    {23, 21, 13, 5, 18, 10, 80, 72},            /* 245 */
    {23, 21, 13, 6, 11, 9, 32, 34},             /* 246 */
    {0, 23, 21, 13, 7, 5, 18, 11, 9, 72},       /* 247 */
    {23, 21, 14, 17, 41, 50},                   /* 248 */
    {23, 21, 14, 5, 18, 16, 48, 50},            /* 249 */
    {23, 21, 14, 6, 17, 9, 76, 84},             /* 250 */
    {3, 23, 21, 14, 7, 5, 18, 16, 9, 84},       /* 251 */
    {23, 21, 14, 12, 17, 10, 40, 42},           /* 252 */
    {2, 23, 21, 14, 12, 5, 18, 16, 10, 80},     /* 253 */
    {1, 23, 21, 14, 12, 6, 17, 11, 9, 76},      /* 254 */
    {0, 2, 23, 21, 14, 12, 7, 5, 18, 16, 11, 9} /* 255 */
};